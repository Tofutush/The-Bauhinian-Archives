<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>The Bauhinian Archives | Settings</title>
<style>
@font-face {
	font-family: courier prime;
	src: url('/asset/font/CourierPrime-Regular.ttf');
}

@font-face {
	font-family: courier prime;
	font-style: italic;
	src: url('/asset/font/CourierPrime-Italic.ttf');
}

@font-face {
	font-family: courier prime;
	font-weight: bold;
	src: url('/asset/font/CourierPrime-Bold.ttf');
}

@font-face {
	font-family: courier prime;
	font-style: italic;
	font-weight: bold;
	src: url('/asset/font/CourierPrime-BoldItalic.ttf');
}

@font-face {
	font-family: jinkai;
	src: url('/asset/font/jinkai.ttf');
}

@font-face {
	font-family: klee one;
	src: url('/asset/font/KleeOne-Regular.ttf');
}

@font-face {
	font-family: klee one semibold;
	src: url('/asset/font/KleeOne-SemiBold.ttf');
}

@font-face {
	font-family: lexend;
	src: url('/asset/font/Lexend.ttf');
}

:root {
	--nsa: #F01ACE;
	--nsa-bg: #fbf3fa;
	--nsa-text: #41282f;
	--nsa-select: #F561DC;
	--sc: #1A7CF0;
	--sc-bg: #f0eff8;
	--sc-text: #2a273d;
	--sc-select: #62A3F1;
	--color: #000;
	--bg-color: #fff;
	--select-color: #000;
	--main: var(--sc);
}

body {
	background-color: var(--bg-color);
	color: var(--color);
	font-family: lexend;
	font-size: 28px;
	margin: 0;
}

#nav {
	position: fixed;
	right: 2rem;
	user-select: none;
}

#nav ul {
	list-style: none;
	margin: 0;
}

#nav ul li {
	margin: 1rem 0;
}

#fix-bauhinia {
	bottom: -8rem;
	filter: opacity(.3);
	left: -8rem;
	position: fixed;
	transform: rotate(45deg);
	width: 600px;
	z-index: -1;
}

#fix-starcorp {
	filter: opacity(.3);
	position: fixed;
	right: -8rem;
	top: -2rem;
	transform: rotate(-15deg);
	width: 600px;
	z-index: -1;
}

/* main page */

#main {
	margin: auto;
	max-width: 860px;
}

#title {
	color: var(--main);
	font-family: lexend;
}

/* docs */

.doc {
	hyphens: auto;
	margin: 4rem auto;
	min-height: 1130px;
	overflow: hidden;
	padding: 4rem;
}

.doc-content {
	z-index: 1;
}

.doc-content h1 {
	text-decoration: underline;
}

.doc-content p {
	text-indent: 2em;
	line-height: 1.5;
}

.doc-content .signature {
	margin-top: 4rem;
}

.doc-content .signature p {
	text-align: right;
	text-indent: 0;
}

.nsa {
	background-color: var(--nsa-bg);
	color: var(--nsa-text);
	display: flex;
	font-family: courier prime;
	justify-content: center;
}

.nsa *::selection {
	background-color: var(--nsa-select);
	color: var(--select-color);
}

.nsa-stamp {
	align-self: center;
	filter: opacity(.1);
	position: absolute;
	z-index: 0;
}

.sc {
	background-color: var(--sc-bg);
	color: var(--sc-text);
	font-family: josefin sans;
}

.sc *::selection {
	background-color: var(--sc-select);
	color: var(--select-color);
}

.sc-head {
	align-items: center;
	border-bottom: 4px solid var(--sc);
	display: flex;
	gap: 2rem;
	justify-content: flex-end;
	padding: 0 1rem 1rem 1rem;
	user-select: none;
}

.sc-head > img {
	height: 40px;
}

.sc-head > p {
	color: var(--sc);
	font-weight: 600;
	letter-spacing: 3px;
	margin: 0;
	text-transform: uppercase;
}

/* name colors */

.name::selection {
	color: #fff;
}

.firefly {
	color: #E07250;
}

.hyrax {
	color: #333;
}

.kangaroo {
	color: #A36D1F;
}

.koala {
	color: #7F8587;
}

.pegasus {
	color: #21CEEA;
}

.bauhinia {
	color: var(--nsa);
}

.starcorp {
	color: var(--sc);
}

	.setting {
	align-items: center;
	border-bottom: 3px solid var(--color);
	display: flex;
	gap: 2rem;
	justify-content: space-between;
	padding: 2rem 0;
}

.setting:last-child {
	border-bottom: 0;
}

.label {
	margin: 0;
}

.check {
	aspect-ratio: 1;
	background-color: #fff;
	border: 4px solid #fff;
	height: 2rem;
	outline: 4px solid var(--main);
	width: 2rem;
}

.check.checked {
	background-color: var(--main);
}

</style>
</head>
<body>
<img id="fix-bauhinia" src="/asset/img/bauhinia.svg"/>
<img id="fix-starcorp" src="/asset/img/sclogo.svg"/>
<div id="nav">
	<ul>
		<li><a href="about">About</a></li>
		<li><a href="setting">Settings</a></li>
	</ul>
</div>
<div id="main">
	<h1 id="title">Settings</h1>
	
<p>(Refresh to take effect.)</p>

<div id="settings">
	
</div>

<script>
class Setting {
	constructor(parent) {
		this.parent = parent;
		this.div = elt('div', {className: 'setting'});
		this.parent.appendChild(this.div);
	}
	addLabel(label) {
		this.div.appendChild(elt('p', {className: 'label'}, label));
		return this;
	}
	addCheckbox(cb) {
		let ch = elt('div', {className: 'check'});
		cb(ch);
		this.div.appendChild(ch);
		return this;
	}
	// addInput(type, cb) {
	// 	let ipt = elt('input', {className: 'setting-input', type: type});
	// 	cb(ipt);
	// 	this.div.appendChild(ipt);
	// 	return this;
	// }
	// addDpdn(cb) {
	// 	let dpdn = new Dropdown();
	// 	cb(dpdn);
	// 	this.div.appendChild(dpdn.div);
	// 	return this;
	// }
	onChange(cb) {
		this.div.addEventListener('change', cb);
	}
	deleteMyself() {
		this.div.remove();
	}
}

let sdiv = document.getElementById('settings');
console.log(sdiv);
new Setting(sdiv)
	.addLabel('Light / dark mode.')
	.addCheckbox(ch => {
		if(localStorage.getItem('mode') == 'light') {
			ch.classList.add('checked');
		}
		ch.addEventListener('click', e => {
			if(ch.classList.contains('checked')) {
				ch.classList.remove('checked');
				localStorage.setItem('mode', 'dark');
			} else {
				ch.classList.add('checked');
				localStorage.setItem('mode', 'light');
			}
		});
	});
new Setting(sdiv)
	.addLabel('Color in people\'s names (will definitely make text harder to read, but it\'s fun).')
	.addCheckbox(ch => {
		if(localStorage.getItem('color') == 'yes') {
			ch.classList.add('checked');
		}
		ch.addEventListener('click', e => {
			if(ch.classList.contains('checked')) {
				ch.classList.remove('checked');
				localStorage.setItem('color', 'no');
			} else {
				ch.classList.add('checked');
				localStorage.setItem('color', 'yes');
			}
		});
	});
new Setting(sdiv)
	.addLabel('Highlight important information (to make things easier).')
	.addCheckbox(ch => {
		if(localStorage.getItem('highlight') == 'yes') {
			ch.classList.add('checked');
		}
		ch.addEventListener('click', e => {
			if(ch.classList.contains('checked')) {
				ch.classList.remove('checked');
				localStorage.setItem('highlight', 'no');
			} else {
				ch.classList.add('checked');
				localStorage.setItem('highlight', 'yes');
			}
		});
	});
new Setting(sdiv)
	.addLabel('Display a list of questions after each document (like a damn school assignment. Might make things easier).')
	.addCheckbox(ch => {
		if(localStorage.getItem('question') == 'yes') {
			ch.classList.add('checked');
		}
		ch.addEventListener('click', e => {
			if(ch.classList.contains('checked')) {
				ch.classList.remove('checked');
				localStorage.setItem('question', 'no');
			} else {
				ch.classList.add('checked');
				localStorage.setItem('question', 'yes');
			}
		});
	});

function elt(type,props,...children){let dom=document.createElement(type);if(props)Object.assign(dom,props);for(let child of children){if(typeof child!="string")dom.appendChild(child);else dom.appendChild(document.createTextNode(child));}return(dom);}

</script>
</div>
<script>
	let root = document.querySelector(':root');
if(localStorage.getItem('mode') == 'light') {
	root.style.setProperty('--color', '#000');
	root.style.setProperty('--bg-color', '#fff');
	root.style.setProperty('--main', 'var(--sc)');
} else {
	root.style.setProperty('--color', '#fff');
	root.style.setProperty('--bg-color', '#000');
	root.style.setProperty('--main', 'var(--nsa)');
}
</script>
</body>
</html>